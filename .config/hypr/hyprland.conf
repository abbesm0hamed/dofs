# Monitor configuration
monitor=,preferred,auto,auto

# Environment variables
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORM,wayland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

# Input configuration
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 0
    float_switch_override_focus = 0

    touchpad {
        natural_scroll = true
        disable_while_typing = true
        tap-to-click = true
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

# General settings
general {
    gaps_in = 0
    gaps_out = 0
    border_size = 1
    
    # Kanagawa theme colors (you can adjust these)
    col.active_border = rgba(7E9CD8ff)
    col.inactive_border = rgba(2D4F67ff)
    
    layout = dwindle
    allow_tearing = false
}

# Decoration settings - minimal blur, no animations
decoration {
    rounding = 10
    
    blur {
        enabled = true
        size = 3
        passes = 2
        xray = false
        ignore_opacity = false
    }

    drop_shadow = true
    shadow_range = 20
    shadow_render_power = 3
    col.shadow = rgba(0000007F)
}

# Animations - DISABLED as requested
animations {
    enabled = false
}

# Layout settings
dwindle {
    pseudotile = true
    preserve_split = true
    smart_split = false
    smart_resizing = false
}

master {
    new_is_master = true
}

# Gestures
gestures {
    workspace_swipe = false
}

# Misc settings
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    disable_splash_rendering = true
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
    vrr = 0
    focus_on_activate = false
}

# XWayland
xwayland {
    force_zero_scaling = true
}

# Window rules
windowrule = float, ^(pavucontrol)$
windowrule = float, ^(nm-connection-editor)$
windowrule = float, ^(blueman-manager)$
windowrule = float, ^(xfce4-taskmanager)$
windowrule = float, ^(catfish)$
windowrule = float, ^(archlinux-tweak-tool)$

# Opacity rules - only blur terminals
windowrulev2 = opacity 0.97, class:^(kitty)$
windowrulev2 = opacity 0.97, class:^(wezterm)$
windowrulev2 = opacity 0.97, class:^(ghostty)$
windowrulev2 = opacity 0.97, class:^(Alacritty)$

# Scratchpad rules
windowrulev2 = float, class:^(kitty-scratchpad)$
windowrulev2 = size 1600 900, class:^(kitty-scratchpad)$
windowrulev2 = center, class:^(kitty-scratchpad)$

windowrulev2 = float, class:^(btop-scratchpad)$
windowrulev2 = size 1600 900, class:^(btop-scratchpad)$
windowrulev2 = center, class:^(btop-scratchpad)$

windowrulev2 = float, class:^(yazi-scratchpad)$
windowrulev2 = size 1600 900, class:^(yazi-scratchpad)$
windowrulev2 = center, class:^(yazi-scratchpad)$

# Application workspace assignments
windowrulev2 = workspace 8, class:^(discord)$
windowrulev2 = workspace 9, class:^(Slack)$
windowrulev2 = workspace 10, class:^(thunderbird)$

# Zoom meeting rules
windowrulev2 = float, class:^(zoom)$
windowrulev2 = tile, title:^(Zoom Meeting)$
windowrulev2 = tile, title:^(Zoom - Licensed Account)$

# Keybindings
$mod = SUPER
$alt = ALT

# System controls
bind = $mod SHIFT, Q, killactive
bind = $mod SHIFT, R, exec, hyprctl reload
bind = $mod SHIFT, C, exec, hyprctl reload

# Focus and movement
bind = $mod, H, movefocus, l
bind = $mod, L, movefocus, r
bind = $mod, K, movefocus, u
bind = $mod, J, movefocus, d

bind = $mod SHIFT, H, movewindow, l
bind = $mod SHIFT, L, movewindow, r
bind = $mod SHIFT, K, movewindow, u
bind = $mod SHIFT, J, movewindow, d

# Layout controls
bind = $mod, F, fullscreen, 0
bind = $mod SHIFT, SPACE, togglefloating
bind = $mod, SPACE, cyclenext
bind = $mod, W, togglegroup
bind = $mod, E, togglesplit
bind = $mod, S, togglegroup

# Workspaces
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10

# Monitor focus
bind = $mod, comma, focusmonitor, l
bind = $mod, period, focusmonitor, r

# Move workspace to output
bind = $mod SHIFT, B, movecurrentworkspacetomonitor, r

# Application launchers
bind = $mod, RETURN, exec, kitty
bind = $alt, RETURN, exec, wezterm
bind = CTRL $alt, RETURN, exec, ghostty

# Browsers
bind = $mod, B, exec, brave
bind = $mod, Z, exec, zen-browser

# Communication
bind = $mod, D, exec, discord
bind = $mod, T, exec, telegram-desktop

# File managers
bind = $mod SHIFT, RETURN, exec, thunar
bind = CTRL $alt, F, exec, thunar

# System applications
bind = $mod, V, exec, pavucontrol
bind = CTRL $alt, X, exec, xcolor
bind = $mod SHIFT, X, exec, wlogout
bind = CTRL $alt, P, exec, pamac-manager

# Function key applications
bind = $mod, F1, exec, vivaldi-stable
bind = $mod, F2, exec, atom
bind = $mod, F3, exec, inkscape
bind = $mod, F4, exec, gimp
bind = $mod, F5, exec, meld
bind = $mod, F6, exec, vlc
bind = $mod, F7, exec, virtualbox
bind = $mod, F8, exec, thunar
bind = $mod, F9, exec, lollypop
bind = $mod, F10, exec, spotify

# Wofi launchers
bind = $mod, P, exec, wofi --show drun
bind = $mod, TAB, exec, wofi --show window
bind = $mod, F11, exec, wofi --show drun --width=100% --height=100%
bind = $mod, F12, exec, wofi --show drun

# Media controls
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = CTRL $mod, P, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous
bind = CTRL SHIFT, period, exec, playerctl next
bind = CTRL SHIFT, comma, exec, playerctl previous
bind = , XF86AudioStop, exec, playerctl stop

# MPD controls
bind = $mod, bracketleft, exec, mpc prev
bind = $mod, bracketright, exec, mpc next
bind = $mod, backslash, exec, mpc play
bind = $mod SHIFT, backslash, exec, mpc pause

# Volume controls
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +3%
bind = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -3%
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = $alt, D, exec, pactl set-sink-volume @DEFAULT_SINK@ +3%
bind = $alt, A, exec, pactl set-sink-volume @DEFAULT_SINK@ -3%

# Brightness controls
bind = , XF86MonBrightnessUp, exec, brightnessctl set +5%
bind = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Language switching
bind = $mod CTRL $alt, SPACE, exec, hyprctl switchxkblayout at-translated-set-2-keyboard next

# Night mode
bind = $mod, N, exec, ~/.config/scripts/toggle-nightmode.sh

# Waybar reload
bind = $mod SHIFT, W, exec, ~/.config/scripts/reload-waybar.sh

# Screenshots
bind = , PRINT, exec, ~/.config/grimslurp/scripts/screenshot.sh screen
bind = SHIFT, PRINT, exec, ~/.config/grimslurp/scripts/screenshot.sh area
bind = $alt, PRINT, exec, ~/.config/grimslurp/scripts/screenshot.sh active
bind = CTRL, PRINT, exec, xfce4-screenshooter
bind = CTRL SHIFT, PRINT, exec, gnome-screenshot -i

# Scratchpad controls
bind = $mod, grave, exec, ~/.config/scripts/toggle-scratchpad.sh kitty-scratchpad "kitty --class=kitty-scratchpad"
bind = $mod, U, exec, ~/.config/scripts/toggle-scratchpad.sh btop-scratchpad "kitty --class=btop-scratchpad btop"
bind = $mod, Y, exec, ~/.config/scripts/toggle-scratchpad.sh yazi-scratchpad "kitty --class=yazi-scratchpad yazi"

# Variety wallpaper controls
bind = $alt SHIFT, Left, exec, variety -p
bind = $alt SHIFT, Right, exec, variety -n
bind = $alt, F2, exec, xfce4-appfinder --collapsed
bind = $alt, F3, exec, xfce4-appfinder

# Variety with Pywal
bind = $alt SHIFT, T, exec, variety -t && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)
bind = $alt SHIFT, N, exec, variety -n && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)
bind = $alt SHIFT, P, exec, variety -p && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)
bind = $alt SHIFT, F, exec, variety -f && wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)
bind = $alt SHIFT, U, exec, wal -i $(cat $HOME/.config/variety/wallpaper/wallpaper.jpg.txt)

# Terminal dropdown
bind = , F12, exec, xfce4-terminal --drop-down

# Task manager
bind = CTRL SHIFT, Escape, exec, xfce4-taskmanager

# Control + Alt shortcuts
bind = CTRL $alt, T, exec, archlinux-tweak-tool
bind = CTRL $alt, C, exec, catfish
bind = CTRL $alt, I, exec, nitrogen
bind = CTRL $alt, U, exec, pavucontrol

# Resize mode (submap)
bind = $mod, R, submap, resize
submap = resize
bind = , H, resizeactive, -10 0
bind = , L, resizeactive, 10 0
bind = , K, resizeactive, 0 -10
bind = , J, resizeactive, 0 10
bind = , escape, submap, reset
bind = , return, submap, reset
submap = reset

# Mouse bindings
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# Startup applications
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = mako
exec-once = waybar
exec-once = nm-applet --indicator
exec-once = blueman-applet
exec-once = pamac-tray
exec-once = sleep 1 && $HOME/.config/scripts/autostart.sh

# WOB setup for volume/brightness indicators
exec-once = rm -f $XDG_RUNTIME_DIR/wob.sock && mkfifo $XDG_RUNTIME_DIR/wob.sock && tail -f $XDG_RUNTIME_DIR/wob.sock | wob
