# Include configurations
include $HOME/.config/sway/rules.conf
include $HOME/.config/sway/modes.conf
include $HOME/.config/sway/themes/kanagawa.conf
include $HOME/.config/sway/keybindings

# Basic settings
set $mod Mod4
floating_modifier $mod
font pango:Lilex 10
# font pango:JetBrains Mono Nerd Font 10

# Workspaces
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Monitor configuration
# Primary display (Laptop)
output eDP-1 {
    position 0 0
    mode 1920x1080@60Hz
    adaptive_sync on
    scale 1
}

# External display (will be configured when connected)
output HDMI-A-1 {
    position 1920 0
    mode 1920x1080@240Hz
    scale 1
    adaptive_sync on
}

# Keyboard layout switching (Sway syntax)
# input * {
#     xkb_layout "us,fr"
#     xkb_options "grp:alt_shift_toggle"
# }

# Autostart applications
exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK
exec $HOME/.config/scripts/autostart.sh
exec $HOME/.config/scripts/sway-wallpaper.sh

# Notification daemon
exec_always --no-startup-id pkill mako; mako --config ~/.config/mako/config

# Add these environment variables for better notification support
exec_always --no-startup-id dbus-update-activation-environment --systemd --all
exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK

# Optimized workspace layouts
workspace $ws1 output primary
workspace $ws2 output primary
